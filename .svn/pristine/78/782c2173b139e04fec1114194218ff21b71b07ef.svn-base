//
//  YJAddNumCell.m
//  全球向导
//
//  Created by SYJ on 2016/11/7.
//  Copyright © 2016年 尚勇杰. All rights reserved.
//

#import "YJAddNumCell.h"
#import "SDAutoLayout.h"

@implementation YJAddNumCell

- (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier{
    
    if (self = [super initWithStyle:style reuseIdentifier:reuseIdentifier]) {
        
        self.num = [[UILabel alloc]init];
        self.num.text = @"人数";
        self.num.textColor = [UIColor blackColor];
        self.num.font = [UIFont systemFontOfSize:16.0];
        [self.contentView addSubview:self.num];
        self.num.sd_layout.leftSpaceToView(self.contentView,15).topSpaceToView(self.contentView,10).bottomSpaceToView(self.contentView,10).widthIs(100.0);
        
        self.addBtn = [UIButton buttonWithType:UIButtonTypeCustom];
        [self.contentView addSubview:self.addBtn];
        [self.addBtn setImage:[UIImage imageNamed:@"add"] forState:UIControlStateNormal];
        [self.addBtn setImage:[UIImage imageNamed:@"add1"] forState:UIControlStateHighlighted];
        [self.addBtn addTarget:self action:@selector(addBtn:) forControlEvents:UIControlEventTouchUpInside];
        self.addBtn.sd_layout.rightSpaceToView(self.contentView,10).topSpaceToView(self.contentView,10).bottomSpaceToView(self.contentView,10).widthIs(20.0);
        
        self.numLab = [[UILabel alloc]init];
        [self.contentView addSubview:self.numLab];
        self.numLab.text = @"1";
        self.numLab.font = [UIFont systemFontOfSize:14.0];
        self.numLab.textColor = [UIColor blackColor];
        self.numLab.textAlignment = NSTextAlignmentCenter;
        self.numLab.sd_layout.rightSpaceToView(self.addBtn,5).topSpaceToView(self.contentView,10).bottomSpaceToView(self.contentView,10).widthIs(40.0);
        
        self.reduceBtn = [UIButton buttonWithType:UIButtonTypeCustom];
        [self.contentView addSubview:self.reduceBtn];
        [self.reduceBtn setImage:[UIImage imageNamed:@"reduce"] forState:UIControlStateNormal];
        [self.reduceBtn setImage:[UIImage imageNamed:@"reduce1"] forState:UIControlStateHighlighted];
        [self.reduceBtn addTarget:self action:@selector(reduceBtn:) forControlEvents:UIControlEventTouchUpInside];
        self.reduceBtn.sd_layout.rightSpaceToView(self.numLab,5).topSpaceToView(self.contentView,10).bottomSpaceToView(self.contentView,10).widthIs(20.0);
        
        
        UIView *line = [[UIView alloc]init];
        line.backgroundColor = BackGray;
        [self.contentView addSubview:line];
        line.sd_layout.leftSpaceToView(self.contentView,10).rightSpaceToView(self.contentView,10).bottomSpaceToView(self.contentView,0).heightIs(0.5);
        
        
        self.people = 1;
        
    }
    
    return self;
}


- (void)addBtn:(UIButton *)sender{
    
    self.people++;
    NSString *peo = [NSString stringWithFormat:@"%d",self.people];
    self.numLab.text = peo;
    
}


- (void)reduceBtn:(UIButton *)sender{
    
    if (self.people > 0) {
        self.people--;
    }
    
    NSString *peo = [NSString stringWithFormat:@"%d",self.people];
    self.numLab.text = peo;
}


- (void)awakeFromNib {
    [super awakeFromNib];
    // Initialization code
}

- (void)setSelected:(BOOL)selected animated:(BOOL)animated {
    [super setSelected:selected animated:animated];

    // Configure the view for the selected state
}

@end
